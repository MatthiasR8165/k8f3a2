function buildPetHTML(pet) {

  const row = (label, value) =>
    value ? `<div class="row"><div class="label">${label}</div><div class="value">${value}</div></div>` : "";

  return `<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>${pet.meta.name} – PET-ID</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#d8b48a">

<link rel="icon" href="/assets/icons/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">

<style>
body{margin:0;font-family:system-ui;background:#f6f6f6;color:#2b2b2b}
.container{max-width:520px;margin:20px auto;padding:16px}
.card{background:#fff;border-radius:14px;padding:20px;margin-bottom:16px;
box-shadow:0 4px 14px rgba(0,0,0,.06)}
.header{text-align:center}
.header img{width:200px;height:200px;border-radius:50%;object-fit:cover;
border:4px solid #d8b48a;margin-bottom:12px}
h1{margin:0}
.subtitle{color:#777;margin-top:6px}
.section-title{font-weight:600;margin-bottom:10px}
.row{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #eee}
.row:last-child{border-bottom:none}
.label{color:#777}
.value{text-align:right;font-weight:500}
.button{display:block;text-align:center;background:#d8b48a;
padding:14px;border-radius:10px;color:#000;text-decoration:none;margin-top:10px}
</style>
</head>

<body>
<div class="container">

<div class="card header">
${pet.meta.image ? `<img src="${pet.meta.image}" alt="${pet.meta.name}">` : ""}
<h1>${pet.meta.name}</h1>
<div class="subtitle">PET-ID: ${pet.meta.pet_id}</div>
${pet.meta.subtitle ? `<div class="subtitle">${pet.meta.subtitle}</div>` : ""}
</div>

<div class="card">
<div class="section-title">Tierdaten</div>
${row("Tierart", pet.animal.species)}
${row("Geschlecht", pet.animal.gender)}
${row("Geburtsdatum", pet.animal.birthdate)}
${row("Farbe", pet.animal.color)}
${row("Rasse", pet.animal.breed)}
${row("Kastriert", pet.animal.castrated)}
${row("Freigänger", pet.animal.outdoor)}
${row("Gechippt", pet.animal.chipped)}
${row("Geimpft", pet.animal.vaccinated)}
${row("Mikrochip", pet.animal.microchip)}
${row("Hinweis", pet.animal.note)}
</div>

<div class="card">
<div class="section-title">Besitzer</div>
${row(pet.owner1.name, pet.owner1.phone)}
${pet.owner1.email ? `<a class="button" href="mailto:${pet.owner1.email}">E-Mail senden</a>` : ""}
</div>

${pet.owner2.name ? `
<div class="card">
<div class="section-title">Weiterer Kontakt</div>
${row(pet.owner2.name, pet.owner2.phone)}
</div>` : ""}

<div class="card">
<div class="section-title">Tierarzt</div>
${row("Praxis", pet.vet.practice)}
${row("Tierärztin", pet.vet.doctor)}
${row("Telefon", pet.vet.phone)}
${pet.vet.website ? `<a class="button" href="${pet.vet.website}" target="_blank">Website</a>` : ""}
</div>

</div>
</body>
</html>`;
}
